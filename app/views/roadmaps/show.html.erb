<div class="page">
  <div class="page-header">道しるべを見る</div>

  <!-- 上半分：道しるべ（2030〜2026年の階段） -->
  <div class="black-card">
    <h2>道しるべ</h2>

    <div class="roadmap-display">
      <%= simple_format(@user.roadmap_text.presence || "まだ道しるべが登録されていません。") %>
    </div>

    <div class="edit-block">
      <span>編集</span>
      <%= form_with model: @user, url: roadmap_path, method: :patch, local: true do |f| %>
        <p>例）</p>
        <p style="font-size: 12px; opacity: 0.8;">
          2030年　世界大会優勝<br>
          2029年　世界大会トップカット<br>
          2028年　世界大会2日目まで勝ち上がる<br>
          ...
        </p>
        <%= f.text_area :roadmap_text, rows: 8, style: "width: 100%;" %>
        <%= f.submit "保存", style: "margin-top: 8px;" %>
      <% end %>
    </div>
  </div>

  <!-- 下半分：年間スケジュール -->
  <div class="black-card">
    <h2>年間スケジュール</h2>

    <div class="roadmap-display">
      <%= simple_format(@user.annual_schedule_text.presence || "まだ年間スケジュールが登録されていません。") %>
    </div>

    <div class="edit-block">
      <span>編集</span>
      <%= form_with model: @user, url: roadmap_path, method: :patch, local: true do |f| %>
        <p>例）</p>
        <p style="font-size: 12px; opacity: 0.8;">
          1月　地方大会①　ベスト4<br>
          2月　福岡大会　ベスト32<br>
          3月　地方大会②　優勝<br>
          ...
        </p>
        <%= f.text_area :annual_schedule_text, rows: 8, style: "width: 100%;" %>
        <%= f.submit "保存", style: "margin-top: 8px;" %>
      <% end %>
    </div>
  </div>

  <nav class="nav-buttons">
    <%= link_to "道しるべを見る", roadmap_path, class: "nav-button" %>
    <%= link_to "振り返りを見る", "#", class: "nav-button" %> <!-- 後で実装 -->
    <%= link_to "my page", mypage_path, class: "nav-button" %>
    <%= link_to "ログアウト", destroy_user_session_path,
                data: { turbo_method: :delete, turbo_confirm: "ログアウトしますか？" },
                class: "nav-button" %>
  </nav>
</div>